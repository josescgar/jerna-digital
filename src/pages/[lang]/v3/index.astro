---
import VariationLayout from '@/variations/layouts/VariationLayout.astro';
import HeroV3Playful from '@/variations/components/HeroV3Playful.astro';
import ServicesSection from '@/components/sections/ServicesSection.astro';
import AboutPreviewSection from '@/components/sections/AboutPreviewSection.astro';
import CTASection from '@/components/sections/CTASection.astro';
import { getTranslations, languages, type Language } from '@/i18n/translations';

export function getStaticPaths() {
  return (Object.keys(languages) as Language[])
    .filter((lang) => lang !== 'en')
    .map((lang) => ({
      params: { lang },
      props: { lang },
    }));
}

interface Props {
  lang: Language;
}

const { lang } = Astro.props;
const t = getTranslations(lang);
---

<VariationLayout
  variation="v3"
  lang={lang}
  title={`V3 Playful | ${t.site.name}`}
  description={t.site.description}
>
  <HeroV3Playful lang={lang} />
  <ServicesSection lang={lang} />
  <AboutPreviewSection lang={lang} />
  <CTASection lang={lang} />
</VariationLayout>
