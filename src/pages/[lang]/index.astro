---
import BaseLayout from '@/layouts/BaseLayout.astro';
import HeroSection from '@/components/sections/HeroSection.astro';
import ServicesSection from '@/components/sections/ServicesSection.astro';
import AboutPreviewSection from '@/components/sections/AboutPreviewSection.astro';
import CTASection from '@/components/sections/CTASection.astro';
import { getTranslations, languages, type Language } from '@/i18n/translations';

export function getStaticPaths() {
  // Only generate non-default language paths here
  // Default language (English) is handled by src/pages/index.astro
  return (Object.keys(languages) as Language[])
    .filter((lang) => lang !== 'en')
    .map((lang) => ({
      params: { lang },
      props: { lang },
    }));
}

interface Props {
  lang: Language;
}

const { lang } = Astro.props;
const t = getTranslations(lang);
---

<BaseLayout lang={lang} title={t.site.name} description={t.site.description}>
  <HeroSection lang={lang} />
  <ServicesSection lang={lang} />
  <AboutPreviewSection lang={lang} />
  <CTASection lang={lang} />
</BaseLayout>
