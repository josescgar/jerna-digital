---
import BaseLayout from '@/layouts/BaseLayout.astro';
import HeroSection from '@/components/sections/HeroSection.astro';
import ServicesSection from '@/components/sections/ServicesSection.astro';
import AboutPreviewSection from '@/components/sections/AboutPreviewSection.astro';
import CTASection from '@/components/sections/CTASection.astro';
import {
  getTranslations,
  languages,
  defaultLanguage,
  type Language,
} from '@/i18n/translations';

export function getStaticPaths() {
  return (Object.keys(languages) as Language[]).map((lang) => {
    return {
      params: { lang: lang === defaultLanguage ? undefined : lang },
      props: { lang },
    };
  });
}

interface Props {
  lang: Language;
}

const { lang } = Astro.props;
const t = getTranslations(lang);
---

<BaseLayout lang={lang} title={t.site.name} description={t.site.description}>
  <HeroSection lang={lang} />
  <ServicesSection lang={lang} />
  <AboutPreviewSection lang={lang} />
  <CTASection lang={lang} />
</BaseLayout>
