---
import {
  getTranslations,
  defaultLanguage,
  type Language,
} from '@/i18n/translations';
import { getLocalizedPath } from '@/i18n/utils';
import { Route } from '@/lib/routes';

interface Props {
  lang?: Language;
}

const lang = Astro.props.lang ?? defaultLanguage;
const t = getTranslations(lang);

const aboutHref = getLocalizedPath(lang, Route.About);
---

<section class="section relative overflow-hidden" id="about-preview">
  <div class="container">
    <div class="grid items-center gap-12 lg:grid-cols-2 lg:gap-16">
      <!-- Content -->
      <div>
        <h2 class="text-3xl font-bold tracking-tight sm:text-4xl md:text-5xl">
          <span class="text-gradient">{t.about.title}</span>
        </h2>
        <p class="text-foreground-muted mt-4 text-lg">
          {t.about.subtitle}
        </p>

        <p class="text-foreground-muted mt-6 leading-relaxed">
          {t.about.intro}
        </p>

        <div class="mt-8">
          <h3 class="mb-4 text-xl font-semibold">{t.about.approach.title}</h3>
          <p class="text-foreground-muted leading-relaxed">
            {t.about.approach.description}
          </p>
        </div>

        <div class="mt-8">
          <h3 class="mb-4 text-xl font-semibold">{t.about.values.title}</h3>
          <ul class="grid gap-3 sm:grid-cols-2">
            {
              t.about.values.items.map((value) => (
                <li class="flex items-center gap-3">
                  <div class="bg-primary/10 flex h-8 w-8 items-center justify-center rounded-lg">
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      width="16"
                      height="16"
                      viewBox="0 0 24 24"
                      fill="none"
                      stroke="currentColor"
                      stroke-width="2"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      class="text-primary"
                    >
                      <path d="m9 12 2 2 4-4" />
                    </svg>
                  </div>
                  <span class="text-foreground-muted">{value}</span>
                </li>
              ))
            }
          </ul>
        </div>

        <a
          href={aboutHref}
          class="text-primary hover:text-primary-light mt-8 inline-flex items-center gap-2 transition-colors"
        >
          {t.about.learnMore}
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="20"
            height="20"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
          >
            <path d="M5 12h14"></path>
            <path d="m12 5 7 7-7 7"></path>
          </svg>
        </a>
      </div>

      <!-- Visual element / Image placeholder -->
      <div class="relative lg:order-first">
        <div
          class="border-border bg-background-elevated aspect-square overflow-hidden rounded-2xl border p-8"
        >
          <!-- Abstract visual representing consulting/engineering -->
          <div class="relative h-full w-full">
            <!-- Grid of floating cards -->
            <div
              class="animate-float border-border bg-background-subtle absolute top-[10%] left-[10%] h-24 w-32 rounded-xl border p-3"
            >
              <div class="bg-primary/30 h-2 w-16 rounded"></div>
              <div class="bg-foreground/10 mt-2 h-2 w-20 rounded"></div>
              <div class="bg-foreground/10 mt-2 h-2 w-12 rounded"></div>
            </div>

            <div
              class="animate-float border-border bg-background-subtle absolute top-[25%] right-[15%] h-20 w-28 rounded-xl border p-3"
              style="animation-delay: 1s;"
            >
              <div class="bg-secondary/30 h-2 w-12 rounded"></div>
              <div class="bg-foreground/10 mt-2 h-2 w-16 rounded"></div>
            </div>

            <div
              class="animate-float border-border bg-background-subtle absolute bottom-[30%] left-[20%] h-28 w-36 rounded-xl border p-3"
              style="animation-delay: 2s;"
            >
              <div class="bg-primary/30 h-2 w-20 rounded"></div>
              <div class="bg-foreground/10 mt-2 h-2 w-24 rounded"></div>
              <div class="bg-foreground/10 mt-2 h-2 w-16 rounded"></div>
              <div class="bg-foreground/10 mt-2 h-2 w-20 rounded"></div>
            </div>

            <div
              class="animate-float border-border bg-background-subtle absolute right-[10%] bottom-[15%] h-24 w-32 rounded-xl border p-3"
              style="animation-delay: 3s;"
            >
              <div class="bg-secondary/30 h-2 w-16 rounded"></div>
              <div class="bg-foreground/10 mt-2 h-2 w-20 rounded"></div>
              <div class="bg-foreground/10 mt-2 h-2 w-12 rounded"></div>
            </div>

            <!-- Connection lines (decorative) -->
            <svg
              class="absolute inset-0 h-full w-full"
              xmlns="http://www.w3.org/2000/svg"
            >
              <defs>
                <linearGradient
                  id="line-gradient"
                  x1="0%"
                  y1="0%"
                  x2="100%"
                  y2="100%"
                >
                  <stop
                    offset="0%"
                    style="stop-color: var(--color-primary); stop-opacity: 0.3"
                  ></stop>
                  <stop
                    offset="100%"
                    style="stop-color: var(--color-secondary); stop-opacity: 0.3"
                  ></stop>
                </linearGradient>
              </defs>
              <line
                x1="30%"
                y1="25%"
                x2="60%"
                y2="35%"
                stroke="url(#line-gradient)"
                stroke-width="1"></line>
              <line
                x1="35%"
                y1="55%"
                x2="70%"
                y2="45%"
                stroke="url(#line-gradient)"
                stroke-width="1"></line>
              <line
                x1="40%"
                y1="70%"
                x2="65%"
                y2="80%"
                stroke="url(#line-gradient)"
                stroke-width="1"></line>
            </svg>
          </div>
        </div>

        <!-- Decorative gradient behind -->
        <div
          class="from-primary/10 to-secondary/10 absolute -inset-4 -z-10 rounded-3xl bg-gradient-to-br via-transparent blur-2xl"
        >
        </div>
      </div>
    </div>
  </div>
</section>
